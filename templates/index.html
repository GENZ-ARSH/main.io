{% extends 'base.html' %}

{% block title %}GEN-Z LIBRARY - The Ultimate Knowledge Hub{% endblock %}

{% block content %}
<div class="container mx-auto">
    <!-- Hero Section -->
    <section class="relative rounded-lg overflow-hidden mb-16">
        <div class="bg-gradient-to-r from-indigo-600 to-purple-600 h-96 flex items-center">
            <div class="container mx-auto px-6 md:px-12 relative z-10">
                <div class="max-w-xl">
                    <h1 class="text-4xl md:text-5xl font-bold text-white leading-tight mb-4">
                        ‚ö° GEN-Z LIBRARY
                    </h1>
                    <p class="text-xl text-white opacity-90 mb-8">
                        Your central vault of educational power. Free books, notes, and study materials for Classes 9-12, JEE, NEET, NDA, and more!
                    </p>
                    <div class="flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4">
                        <a href="#categories" class="px-6 py-3 bg-white text-indigo-600 font-medium rounded-md shadow-md hover:bg-gray-50 transition-colors text-center">
                            Explore Categories
                        </a>
                        {% if not session.get('user_id') %}
                        <a href="{{ url_for('register') }}" class="px-6 py-3 bg-transparent border-2 border-white text-white font-medium rounded-md hover:bg-white hover:bg-opacity-20 transition-colors text-center">
                            Join GEN-Z CLAN
                        </a>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        <div class="absolute inset-0 bg-black opacity-10"></div>
    </section>
    
    <!-- Features Section -->
    <section class="mb-16">
        <div class="text-center mb-10">
            <h2 class="text-3xl font-bold mb-3">üåü Main Features</h2>
            <p class="text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">
                Designed for the new wave of students, providing everything you need for academic success.
            </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="card p-6 rounded-lg">
                <div class="text-indigo-600 mb-4">
                    <i class="fas fa-book text-3xl"></i>
                </div>
                <h3 class="text-xl font-bold mb-2">üìö Class-Wise Books</h3>
                <p class="text-gray-600 dark:text-gray-400">
                    Categorized resources for Classes 9-12 and competitive exams like JEE, NEET, and NDA.
                </p>
            </div>
            
            <div class="card p-6 rounded-lg">
                <div class="text-indigo-600 mb-4">
                    <i class="fas fa-search text-3xl"></i>
                </div>
                <h3 class="text-xl font-bold mb-2">üîç Search & Filter</h3>
                <p class="text-gray-600 dark:text-gray-400">
                    Easily find materials by title, subject, or tags without hassle.
                </p>
            </div>
            
            <div class="card p-6 rounded-lg">
                <div class="text-indigo-600 mb-4">
                    <i class="fas fa-bolt text-3xl"></i>
                </div>
                <h3 class="text-xl font-bold mb-2">‚ö° Realtime Updates</h3>
                <p class="text-gray-600 dark:text-gray-400">
                    Get the latest books and resources as soon as they're available.
                </p>
            </div>
            
            <div class="card p-6 rounded-lg">
                <div class="text-indigo-600 mb-4">
                    <i class="fas fa-moon text-3xl"></i>
                </div>
                <h3 class="text-xl font-bold mb-2">üåë Dark/Light Mode</h3>
                <p class="text-gray-600 dark:text-gray-400">
                    Switch between themes to reduce eye strain while studying day or night.
                </p>
            </div>
            
            <div class="card p-6 rounded-lg">
                <div class="text-indigo-600 mb-4">
                    <i class="fas fa-envelope text-3xl"></i>
                </div>
                <h3 class="text-xl font-bold mb-2">üì© Book Requests</h3>
                <p class="text-gray-600 dark:text-gray-400">
                    Can't find what you need? Request books and we'll add them to our library.
                </p>
            </div>
            
            <div class="card p-6 rounded-lg">
                <div class="text-indigo-600 mb-4">
                    <i class="fas fa-user-shield text-3xl"></i>
                </div>
                <h3 class="text-xl font-bold mb-2">üßë‚Äçüíº Join as Admin</h3>
                <p class="text-gray-600 dark:text-gray-400">
                    Apply to become part of the GEN-Z CLAN and help manage the library.
                </p>
            </div>
        </div>
    </section>
    
    <!-- GEN-Z ANNOUNCEMENTS Section -->
    {% if announcements %}
    <section class="mb-16">
        <div class="text-center mb-10">
            <h2 class="text-3xl font-bold mb-3 flex items-center justify-center">
                <i class="fas fa-bullhorn text-indigo-500 mr-3 animate-pulse"></i>
                üì¢ GEN-Z ANNOUNCEMENTS
            </h2>
            <p class="text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">
                Latest news and updates from the GEN-Z LIBRARY team.
            </p>
        </div>
        
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            {% for announcement in announcements %}
            <div class="card hover:shadow-lg hover:shadow-indigo-500/10 dark:hover:shadow-indigo-900/40 overflow-hidden rounded-lg transform transition hover:scale-105 duration-300 flex flex-col">
                {% if announcement.image_url %}
                <div class="h-40 overflow-hidden">
                    <img src="{{ announcement.image_url }}" alt="{{ announcement.title }}" class="w-full h-full object-cover">
                </div>
                {% else %}
                <div class="h-32 bg-gradient-to-r from-indigo-500 to-purple-500 flex items-center justify-center">
                    <i class="fas fa-bullhorn text-4xl text-white"></i>
                </div>
                {% endif %}
                
                <div class="p-5 flex-grow">
                    <h3 class="text-xl font-bold mb-2 text-indigo-600 dark:text-indigo-400">{{ announcement.title }}</h3>
                    <p class="text-gray-600 dark:text-gray-300 mb-4 line-clamp-2">
                        {{ announcement.description|truncate(100) }}
                    </p>
                </div>
                
                <div class="p-4 border-t border-gray-200 dark:border-gray-700 mt-auto flex justify-between items-center">
                    <span class="text-xs text-gray-500 dark:text-gray-400 flex items-center">
                        <i class="far fa-calendar-alt mr-1"></i>
                        {{ announcement.post_date.strftime('%b %d, %Y') }}
                    </span>
                    
                    <a href="{{ url_for('announcement_detail', announcement_id=announcement.id) }}" class="text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 text-sm">
                        Read more
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-8">
            <a href="{{ url_for('announcements') }}" class="inline-flex items-center px-5 py-2 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700">
                <i class="fas fa-bullhorn mr-2"></i>
                View All Announcements
            </a>
        </div>
    </section>
    {% endif %}
    
    <!-- Categories Section -->
    <section id="categories" class="mb-16">
        <div class="text-center mb-10">
            <h2 class="text-3xl font-bold mb-3">üìö Categories</h2>
            <p class="text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">
                Browse our comprehensive collection of educational resources by class and exam.
            </p>
        </div>
        
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
            {% for category in categories %}
            <a href="{{ url_for('books', category=category.id) }}" class="card rounded-lg overflow-hidden transform transition hover:scale-105">
                <div class="h-40 bg-gray-200 relative">
                    <img src="{{ category.image }}" alt="{{ category.name }}" class="w-full h-full object-cover">
                    <div class="absolute inset-0 bg-gradient-to-t from-black to-transparent opacity-70"></div>
                    <div class="absolute bottom-0 left-0 p-4 text-white">
                        <h3 class="text-xl font-bold">{{ category.name }}</h3>
                    </div>
                </div>
            </a>
            {% endfor %}
        </div>
    </section>
    
    <!-- Featured Books Section -->
    <section class="mb-16">
        <div class="text-center mb-10">
            <h2 class="text-3xl font-bold mb-3">üìñ Featured Books</h2>
            <p class="text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">
                Most popular and recently added books in our library.
            </p>
        </div>
        
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
            {% for book in featured_books %}
            <div class="card rounded-lg overflow-hidden">
                <div class="h-48 bg-gray-200 relative">
                    {% if book.cover_image %}
                    <img src="{{ book.cover_image }}" alt="{{ book.title }}" class="w-full h-full object-cover">
                    {% else %}
                    <div class="w-full h-full flex items-center justify-center bg-indigo-100 dark:bg-indigo-900">
                        <i class="fas fa-book text-4xl text-indigo-500"></i>
                    </div>
                    {% endif %}
                </div>
                <div class="p-4">
                    <h3 class="text-lg font-bold mb-1 truncate">{{ book.title }}</h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">by {{ book.author }}</p>
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-xs px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded-full">{{ book.file_format }}</span>
                        <span class="text-xs text-gray-600 dark:text-gray-400">{{ book.file_size }}</span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-xs text-gray-600 dark:text-gray-400">
                            <i class="fas fa-download mr-1"></i> {{ book.downloads }} downloads
                        </span>
                        <a href="{{ url_for('book_detail', book_id=book.id) }}" class="text-indigo-600 hover:text-indigo-800 text-sm font-medium">
                            View
                        </a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-8">
            <a href="{{ url_for('books', category='class-9') }}" class="px-6 py-3 bg-indigo-600 text-white font-medium rounded-md hover:bg-indigo-700 transition-colors inline-block">
                Browse All Books
            </a>
        </div>
    </section>
    
    <!-- Call to Action -->
    <section class="mb-16">
        <div class="bg-gradient-to-r from-indigo-600 to-purple-600 rounded-lg p-8 md:p-12">
            <div class="max-w-4xl mx-auto text-center">
                <h2 class="text-3xl font-bold text-white mb-4">Join the GEN-Z CLAN Today!</h2>
                <p class="text-xl text-white opacity-90 mb-8">
                    Get access to all our resources, request books, and even become an admin to help grow our library.
                </p>
                {% if not session.get('user_id') %}
                <div class="flex flex-col sm:flex-row justify-center space-y-3 sm:space-y-0 sm:space-x-4">
                    <a href="{{ url_for('register') }}" class="px-6 py-3 bg-white text-indigo-600 font-medium rounded-md shadow-md hover:bg-gray-50 transition-colors text-center">
                        Sign Up Now
                    </a>
                    <a href="{{ url_for('login') }}" class="px-6 py-3 bg-transparent border-2 border-white text-white font-medium rounded-md hover:bg-white hover:bg-opacity-20 transition-colors text-center">
                        Already a Member? Log In
                    </a>
                </div>
                {% else %}
                <a href="{{ url_for('request_book') }}" class="px-6 py-3 bg-white text-indigo-600 font-medium rounded-md shadow-md hover:bg-gray-50 transition-colors inline-block">
                    Request a Book
                </a>
                {% endif %}
            </div>
        </div>
    </section>
</div>
{% endblock %}
